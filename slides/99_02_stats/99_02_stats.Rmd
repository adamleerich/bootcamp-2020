---
title: Data Analysis in R
editor_options:
  chunk_output_type: console
title-slide-attributes:
  data-background-image: "window-484596_1920.jpg"
  class: "center"
---


```{r include=FALSE}
source('../../common.R')
```



## Data Prep

* I recommended doing *complicated data cleaning in Excel*
* Save as CSV
* Then load to R
* Separate data prep and analysis stages if possible
* Save intermediate data as RDS files

```{r}
library(tidyverse)
mb2276 <- readr::read_rds('mb2276.rds')
```




## Quick Note about File Types

* CSV
    + For transfer between XL, R, etc.
    + Use the `readr` package to make reading CSV's more robust
    
* RData
    + Save multiple objects at once
    + However, can get messy when reloading using `load()`
    
* RDS
    + Save one object at a time
    + Does not attach to environment when you load
    



## Summarize Data

```{r}
summary(mb2276)
```






## Tabular Summary

```{r echo=TRUE, results='asis'}
library(alrtools)
library(knitr)
mb2276 %>% info %>% 
  select(-levels, -median, -q25, -q75, -unique_values) %>% 
  head %>% 
  knitr::kable()
```






## Univariate distributions

```{r}
mb_tall <- mb2276 %>% 
  pivot_longer(
    names_to = 'measure',
    values_to = 'value',
    values_drop_na = TRUE,
    cols = -c(wins))

mb_tall %>% 
  ggplot() +
  aes(x = value) +
  facet_wrap(~measure, scales = 'free') + 
  geom_histogram()
```


sqlConnectionString('BeazleyPro_RMI_Data', 'PROD')
